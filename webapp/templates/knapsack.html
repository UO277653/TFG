<!DOCTYPE html>
<html>
<head>
    <title>TFG</title>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <link rel="stylesheet" type="text/css" href="../static/css/style.css">
</head>
<body>

<nav class="navbar">
    <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/maxcut">Max-Cut</a></li>
        <li><a href="/tsp">TSP</a></li>
        <li><a href="/knapsack">Knapsack</a></li>
        <li><a href="/graphColor">Graph coloring</a></li>
    </ul>
</nav>

<div id="problem-container">
   <table>
       <tr>
           <td id="imagenProblema"><img src="../static/img/knapsackImg.png" alt="Imagen del problema knapsack"></td>
           <td>
               <h1>Knapsack</h1>
               <p>El problema de la mochila, también conocido como "knapsack problem" en inglés, es un desafío clásico en la optimización combinatoria. Este problema se basa en una situación en la que se tiene una mochila de capacidad limitada y una serie de objetos con diferentes valores y pesos. El objetivo es determinar qué objetos deben colocarse en la mochila para maximizar el valor total, teniendo en cuenta la capacidad máxima de la mochila. <br> <br>

                   El problema se plantea de la siguiente manera: se tienen n objetos, cada uno con un valor y un peso asociados. La mochila tiene una capacidad máxima, es decir, solo puede contener hasta cierto peso. El desafío radica en seleccionar una combinación de objetos que maximice el valor total sin superar la capacidad de la mochila. <br> <br>

                   Existen diferentes variantes del problema de la mochila, como la versión binaria en la que se debe tomar una decisión binaria (tomar o no tomar) para cada objeto, o la versión fraccionaria en la que se pueden tomar fracciones de los objetos. En este caso, se está trabajando con la versión binaria. <br> <br>

                   El problema de la mochila es conocido por ser NP-completo, lo que significa que no hay un algoritmo eficiente conocido para resolverlo en tiempo polinomial para todas las instancias posibles. <br> <br>

                   El problema de la mochila tiene aplicaciones prácticas en diversos campos, como la gestión de inventarios, la optimización de recursos en logística, la planificación financiera y la asignación de recursos en proyectos. Su estudio y resolución han contribuido al desarrollo de algoritmos y estrategias de optimización en general. <br> <br>

                   <p> <b>Interpretación de los resultados</b> <br>
                       En este problema los métodos difieren en el número de variables que generan. En el caso de los simuladores y el ordenador real, se generarán tantas variables como objetos hay, y si el valor de la variable es 1 quiere decir que cogemos ese objeto, y si es 0 no lo cogemos. <br> <br> En el caso del annealer y los métodos clásicos se generan más variables, pero, si por ejemplo trabajamos con 5 objetos, sólo tendremos en cuenta el valor de las primeras 5 variables, con el mismo criterio descrito antes, e ignoramos el resto. Por ejemplo, en una instancia con 5 objetos nos sale </p>

                   <h3> <i> x0: 1, x1: 0, x2: 1, x3: 1, x4: 0, x5: 1, x6: 0, x7: 0, x8: 0, </i> </h3>

                   <p>lo que quiere decir que escogemos el primer objeto, el tercero y el cuarto. <br> <br>

               <b>Formato de los archivos </b><br>
                   A continuación se especifica el formato para cargar problemas a través de un archivo .txt. Está compuesto de las siguientes 3 líneas<br> <br>

               <table class="formatoProblema">
                   <tr>
                       <th>Dato de la línea</th>
                       <th>Ejemplo</th>
                   </tr>
               <tr>
                   <td>Número de repeticiones</td>
                   <td>1</td>
               </tr>
                   <tr>
                       <td>Peso máximo</td>
                       <td>10</td>
                   </tr>
                   <tr>
                       <td>Valores de los objetos</td>
                       <td>10,7,5,3,1</td>
                   </tr>
                   <tr>
                       <td>Pesos de los objetos</td>
                       <td>4,6,3,2,5</td>
                   </tr>
               </table>

               </p>
            </td>
        </tr>
    </table>
</div>

<div class="flex">

<div id="resolverProblema">
    <fieldset id="cajaKnapsack">
        <legend>Problema</legend>
    <div id="cargarProblema">
        <div id="cargarProblemaKnapsackManual">

            <h2>Cargar problema a través de archivo</h2>

            <div class="flex">
                <input type="file" id="archivoTexto" accept=".txt">
                <button onclick="cargarArchivoProblema()">Cargar datos</button>
            </div>

            <h2>Cargar problema manualmente</h2>

            <div class="flex">
                <input class="medio" name="numeroRepKnapsack" id="numeroRepKnapsack" placeholder="Número de repeticiones" oninput="validarNumero(this)">
                <button onclick="seleccionarNumeroRepsKnapsack()">Introducir</button> <button onclick="limpiarNumRepsKnapsack()">Limpiar</button>
            </div>

            <br>

            <!-- Introducir peso máximo -->
            <div class="flex">
                <input type="text" name="pesoMaximo" id="pesoMaximo" placeholder="Peso máximo" oninput="validarNumero(this)">
                <button onclick="seleccionarPesoMaximoKnapsack()">Introducir peso máximo</button> <button onclick="limpiarPesoMaximoKnapsack()">Limpiar</button>
            </div>


            <br>

            <!-- Agregar objetos -->
            <h5>Agregar objeto</h5>

            <div class="flex">
                <input type="text" class="reducido" name="valorObjeto" id="valorObjeto" placeholder="Valor" oninput="validarNumero(this)">
                <input type="text" class="reducido" name="pesoObjeto" id="pesoObjeto" placeholder="Peso" oninput="validarNumero(this)">
                <button onclick="agregarObjetoKnapsack()">Agregar</button> <button onclick="limpiarObjetoKnapsack()">Limpiar</button>
            </div>
            <br>

        </div>
        <div id="cargarProblemaKnapsackArchivo">

            <div>
                <h2>Resolver el problema</h2>
                <div class="flex">
                    <select class="solver" name="solver" id="solver">
                        <option value="simuladorLocal">Ejecutar en simulador local</option>
                        <option value="simuladorRemoto">Ejecutar en simulador remoto</option>
                        <option value="ordenadorReal">Ejecutar en ordenador real</option>
                        <option value="annealer">Ejecutar en annealer</option>
                        <option value="annealerSimulatedAnnealingSolver">Ejecutar con simmulated annealing solver</option>
                        <option value="annealerTabuSolver">Ejecutar con tabu solver</option>
                        <option value="annealerSteepestDescentSolver">Ejecutar con steepest descent solver</option>
                    </select>
                    <button type="submit" class="btn btn-primary" id="comoResolver">Elegir</button>
                </div>
            </div>

            <div>
                <h2>Datos del problema</h2>
                <div id="datosProblemaKnapsack">
                    <h5>Peso máximo: <h5 id="txtPesoMaximo"></h5></h5>
                    <h5>Número de repeticiones: <h5 id="txtNumRepKnapsack"></h5> </h5>
                    <h5>Número de objetos: <h5 id="txtNumObjetos"></h5></h5>
                    <h5>Valores de los objetos: <h5 id="txtValores"></h5></h5>
                    <h5>Pesos de los objetos: <h5 id="txtPesos"></h5></h5>
                </div>
            </div>
        </div>
    </div>
    </fieldset>
</div>

<div id="result">
    <fieldset id="cajaResultado">
        <legend>Salida</legend>
        <h5 class="error" id="error_componente_objeto">Falta un valor o un peso para el objeto</h5>
        <h5 class="error" id="error_datosIncompletos_Knapsack">Los parámetros introducidos en el problema no son correctos o completos. <br><br>
        Por favor, asegúrese de que el peso máximo y el número de repeticiones son mayores que 0 y de que hay objetos cargados.</h5>
    </fieldset>
</div>
</div>

<footer class="flex">
    <img src="../static/img/logouniovi.png" alt="Logo de la Universidad de Oviedo">
    <div class="grid">
        <p class="texto-footer">Autor: Stelian Adrian Stanci</p>
        <p class="texto-footer">Tutor: Elías Fernández-Combarro Álvarez</p>
    </div>
    <img src="../static/img/logoeii.png" alt="Logo de la Escuela de Ingeniería Informática">
</footer>

<script src="{{ url_for('static', filename='js/scriptKnapsack.js') }}"></script>
<script src="{{ url_for('static', filename='js/util.js') }}"></script>

</body>
</html>
